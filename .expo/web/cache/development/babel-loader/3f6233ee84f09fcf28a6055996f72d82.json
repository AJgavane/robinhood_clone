{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\01_Personal Projects\\\\MyApps\\\\StockSim\\\\robinhood_clone\\\\src\\\\components\\\\Stats.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport StatsRow from \"./StatsRow\";\nimport { db } from \"./firebase\";\nimport \"../styles/Stats.css\";\nvar BASE_URL = \"https://finnhub.io/api/v1/quote?symbol=\";\nvar TOKEN = \"c0bg22n48v6to0rovs60\";\n\nfunction Stats() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      stockData = _useState2[0],\n      setStockData = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      myStocks = _useState4[0],\n      setMyStocksData = _useState4[1];\n\n  var getMyStocksData = function getMyStocksData() {\n    db.collection('myStocks').onSnapshot(function (snapshot) {\n      console.log(snapshot);\n    });\n  };\n\n  var getStockData = function getStockData(stock) {\n    return axios.get(\"\" + BASE_URL + stock + \"&token=\" + TOKEN).catch(function (error) {\n      console.error(\"Error\", error.message);\n    });\n  };\n\n  useEffect(function () {\n    var tempStockData = [];\n    var stockList = [\"TSLA\", \"TTM\", \"ARKW\", \"NVDA\", \"DAL\", \"ARKQ\"];\n    var promises = [];\n    stockList.map(function (stock) {\n      promises.push(getStockData(stock).then(function (res) {\n        tempStockData.push(_objectSpread({\n          name: stock\n        }, res.data));\n      }));\n    });\n    Promise.all(promises).then(function () {\n      setStockData(tempStockData);\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"stats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, React.createElement(\"div\", {\n    className: \"stats__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, React.createElement(\"div\", {\n    className: \"stats__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"Stocks\")), React.createElement(\"div\", {\n    className: \"stats__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, React.createElement(\"div\", {\n    className: \"stats__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  })), React.createElement(\"div\", {\n    className: \"stats__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Watchlist\")), React.createElement(\"div\", {\n    className: \"stats__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, React.createElement(\"div\", {\n    className: \"stats__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, stockData.map(function (stock) {\n    return React.createElement(StatsRow, {\n      key: stock.name,\n      name: stock.name,\n      openPrice: stock.o,\n      price: stock.c,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    });\n  })))));\n}\n\nexport default Stats;","map":{"version":3,"sources":["D:/01_Personal Projects/MyApps/StockSim/robinhood_clone/src/components/Stats.js"],"names":["React","useState","useEffect","axios","StatsRow","db","BASE_URL","TOKEN","Stats","stockData","setStockData","myStocks","setMyStocksData","getMyStocksData","collection","onSnapshot","snapshot","console","log","getStockData","stock","get","catch","error","message","tempStockData","stockList","promises","map","push","then","res","name","data","Promise","all","o","c"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport StatsRow from './StatsRow';\r\nimport {db} from './firebase'\r\n\r\nimport '../styles/Stats.css'\r\n\r\nconst BASE_URL = \"https://finnhub.io/api/v1/quote?symbol=\";\r\nconst TOKEN = \"c0bg22n48v6to0rovs60\";\r\n\r\nfunction Stats() {\r\n    const [stockData, setStockData] = useState([]);\r\n    const [myStocks, setMyStocksData] = useState([]);\r\n\r\n    const getMyStocksData = () => {\r\n        db\r\n        .collection('myStocks')\r\n        .onSnapshot(snapshot => {\r\n            console.log(snapshot)\r\n        })\r\n    }\r\n\r\n    const getStockData = (stock) => {\r\n        return axios\r\n            .get(`${BASE_URL}${stock}&token=${TOKEN}`)\r\n            .catch((error) =>{\r\n                console.error(\"Error\", error.message);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        let tempStockData = [];\r\n        const stockList = [\"TSLA\", \"TTM\", \"ARKW\", \"NVDA\", \"DAL\", \"ARKQ\"];\r\n        let promises = [];\r\n        stockList.map((stock)=> {\r\n            promises.push(\r\n                getStockData(stock)\r\n                .then((res)=> {\r\n                    //console.log(res);       // to check if we get what we want\r\n                    tempStockData.push({name:stock, ...res.data});\r\n                })\r\n            )\r\n        });\r\n        Promise.all(promises).then(()=>{\r\n            // console.log(tempStockData);     // to check if we get what we want\r\n            setStockData(tempStockData);\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"stats\">\r\n            <div className=\"stats__container\">\r\n                <div className=\"stats__header\">\r\n                    <p>Stocks</p>\r\n                </div>\r\n                <div className=\"stats__content\">\r\n                    <div className=\"stats__row\">\r\n                        {/* loop through and show the list of stocks in the portfolio */}\r\n                    </div>\r\n                </div>\r\n                <div className=\"stats__header\">\r\n                    <p>Watchlist</p>\r\n                </div>\r\n                <div className=\"stats__content\">\r\n                    <div className=\"stats__row\">\r\n                        {stockData.map((stock)=>(\r\n                            <StatsRow \r\n                                key={stock.name}\r\n                                name={stock.name}\r\n                                openPrice={stock.o}\r\n                                price={stock.c}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Stats\r\n"]},"metadata":{},"sourceType":"module"}